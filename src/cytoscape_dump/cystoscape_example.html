<html>
<head>
  <style type="text/css">
    #cy {
      width: 100%;
      height: 500px;
      display: block;
      border: 1px solid black;
    }
  </style>
</head>
<body>
<button type="button" onclick="example1()">Push me...</button>
<button type="button" onclick="saveCy()">Save to file</button>
<button type="button" onclick="loadCy()">Load from file</button>
<button type="button" onclick="deleteGraph()">Delete graph</button>
<div id='cy'></div>
<script src="./graph.js"></script>
<script src="./cy_graph.js"></script>
<script src="./utils.js"></script>
<script src="./cy_graph_i_o.js"></script>
<script src="./lib/cytoscape.min.js"></script>
<script>

  function loadCy() {
    var input = document.createElement("input");
    input.type = "file";
    input.addEventListener('change', readCy, false);
    input.click();
  }

  function readCy(e) {
    readSingleFile(e, cyGraph.redrawCy.bind(cyGraph));
  }

  function saveCy() {
    var cy_json = cyGraph.cy.json();
    var cy_json_str = JSON.stringify(cy_json);
    download(cy_json_str, 'cy_json.txt', 'text/plain');
  }

  function saveEles() {
    var cy_eles_json = cyGraph.cy.elements().jsons();
    download(JSON.stringify(cy_eles_json), 'cy_eles_json.txt', 'text/plain');
  }

  function deleteGraph() {
    cyGraph.clearCyEles();
  }

  var cyGraph = new CyGraph();

</script>
</body>
</html>
